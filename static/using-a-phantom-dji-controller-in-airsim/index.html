<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <title>Using a Phantom 2 DJI Controller in AirSim</title>
    <meta name="description" content=""/>

    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link rel="shortcut icon" href="/static/favicon.ico"/>

    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400"/>
    <link rel="stylesheet" type="text/css" href="/static/assets/css/screen.css?v=a1ecb55c4f"/>


    <link rel="canonical" href="http://my-ghost-blog.com/using-a-phantom-dji-controller-in-airsim/"/>
    <meta name="referrer" content="no-referrer-when-downgrade"/>
    <link rel="amphtml" href="http://my-ghost-blog.com/using-a-phantom-dji-controller-in-airsim/amp/"/>
    
    <meta property="og:site_name" content="Timebutt.io"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Using a Phantom 2 DJI Controller in AirSim"/>
    <meta property="og:description" content="Flying a drone in AirSim requires a controller. One could use a simple game controller (Playstation or Xbox both work, as per these instructions), but this is no ideal solution. I have tried this multiple times myself: these controllers are really 'noisy' and make it very difficult to fly a"/>
    <meta property="og:url" content="http://my-ghost-blog.com/using-a-phantom-dji-controller-in-airsim/"/>
    <meta property="article:published_time" content="2017-05-12T13:33:12.000Z"/>
    <meta property="article:modified_time" content="2017-05-16T15:04:49.000Z"/>
    <meta property="article:publisher" content="https://www.facebook.com/Timebutt"/>
    <meta property="article:author" content="https://www.facebook.com/Timebutt"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="Using a Phantom 2 DJI Controller in AirSim"/>
    <meta name="twitter:description" content="Flying a drone in AirSim requires a controller. One could use a simple game controller (Playstation or Xbox both work, as per these instructions), but this is no ideal solution. I have tried this multiple times myself: these controllers are really 'noisy' and make it very difficult to fly a"/>
    <meta name="twitter:url" content="http://my-ghost-blog.com/using-a-phantom-dji-controller-in-airsim/"/>
    <meta name="twitter:label1" content="Written by"/>
    <meta name="twitter:data1" content="Nils Tijtgat"/>
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Timebutt.io",
        "logo": "http://my-ghost-blog.com/ghost/img/ghosticon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "Nils Tijtgat",
        "image": "http://my-ghost-blog.com/content/images/2017/05/Nils-Tijtgat--resized--vierkant-.jpg",
        "url": "http://my-ghost-blog.com/author/nils/",
        "sameAs": [
            "https://www.facebook.com/Timebutt"
        ]
    },
    "headline": "Using a Phantom 2 DJI Controller in AirSim",
    "url": "http://my-ghost-blog.com/using-a-phantom-dji-controller-in-airsim/",
    "datePublished": "2017-05-12T13:33:12.000Z",
    "dateModified": "2017-05-16T15:04:49.000Z",
    "description": "Flying a drone in AirSim requires a controller. One could use a simple game controller (Playstation or Xbox both work, as per these instructions), but this is no ideal solution. I have tried this multiple times myself: these controllers are really &amp;#x27;noisy&amp;#x27; and make it very difficult to fly a",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://my-ghost-blog.com"
    }
}
    </script>

    <meta name="generator" content="Ghost 0.11"/>
    <link rel="alternate" type="application/rss+xml" title="Timebutt.io" href="http://my-ghost-blog.com/rss/index.rss"/>
</head>
<body class="post-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-home"><a href="https://timebutt.github.io/static/">Home</a></li>
    </ul>
        <a class="subscribe-button icon-feed" href="http://my-ghost-blog.com/rss/index.rss">Subscribe</a>
</div>
<span class="nav-cover"> </span>


    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post">

        <header class="post-header">
            <h1 class="post-title">Using a Phantom 2 DJI Controller in AirSim</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2017-05-12">12 May 2017</time> 
            </section>
        </header>

        <section class="post-content">
            <p>Flying a drone in <a href="https://github.com/Microsoft/AirSim">AirSim</a> requires a controller. One could use a simple game controller (Playstation or Xbox both work, as per <a href="https://github.com/Microsoft/AirSim/blob/master/docs/xbox_controller.md">these instructions</a>), but this is no ideal solution. I have tried this multiple times myself: these controllers are really 'noisy' and make it very difficult to fly a drone carefully. Great tools to test the entire AirSim environment and for some first flights, but as soon as you are ready for 'serious work' you should really consider getting an RC controller of sorts. Not only are they a lot more precise, the longer sticks also offer a wider range to more subtly control the AirSim drone.</p>

<p>During my UAV training, I was lucky enough to encounter an instructor who was very interested in the research we do at Ghent University and gifted me an old Phantom 2 controller that was lying around. After some online research, I found this very interesting Github project called <a href="https://github.com/Matsemann/mDjiController">mDjiController</a> by Matsemann. It does exactly what I hoped it would do: read the serial output from the Phantom 2 controller and send it to vJoy, simulating a joystick in Windows.</p>

<p>In what follows, I will describe how I currently run my setup. This guide assumes you have already configured a working Unreal project with the AirSim plugin. If this is not the case, the AirSim documentation provides an excellent starting point when it comes to <a href="https://github.com/Microsoft/AirSim/blob/master/docs/build.md">installation</a> or <a href="https://github.com/Microsoft/AirSim/blob/master/docs/unreal_custenv.md">setting up your first project</a>.</p>

<p>First off, we'll need the <a href="http://vjoystick.sourceforge.net/site/">vJoy device driver</a>, that describes itself as <em>'bridging the gap between any device that is not a joystick and an application that requires a joystick'</em>. Grab the installer from the official website and get it installed on your machine. <br/>
<img src="/static/content/images/2017/05/screen3.png" style="width: 60%;"/></p>

<p>We'll also need <a href="http://qgroundcontrol.com/">QGroundControl</a> that will bridge the gap between our simulated joystick and the simulated PX4 flight controller. Get the installer for your platform and install the software. We're getting close to flying fun!</p>

<p>Next is to start the mDjiController <em>mDji.exe</em> executable. First specify the COM port your controller is connected to (can be found out in the Device Manager screen). Next, some configurable options come up. Just hit enter twice to confirm the default values, unless you want to run a custom vJoy configuration. <br/>
<img src="/static/content/images/2017/05/screen-2.png" alt=""/></p>

<p>If all goes well, the driver should connect to the DJI controller over the serial port and start outputting values as can be seen below.</p>

<p><img src="/static/content/images/2017/05/screen2.png" alt=""/></p>

<p>That's it!</p>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="/static/author/nils/" style="background-image: url(/content/images/2017/05/Nils-Tijtgat--resized--vierkant-.jpg)"><span class="hidden">Nils Tijtgat's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="/static/author/nils/">Nils Tijtgat</a></h4>

                    <p>Read <a href="/static/author/nils/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Using%20a%20Phantom%202%20DJI%20Controller%20in%20AirSim&amp;url=http://my-ghost-blog.com/using-a-phantom-dji-controller-in-airsim/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://my-ghost-blog.com/using-a-phantom-dji-controller-in-airsim/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://my-ghost-blog.com/using-a-phantom-dji-controller-in-airsim/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>


        </footer>

        <div id="disqus_thread"/>
        <script>

        /**
        *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
        /*
        var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        */
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://timebutt.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story no-cover" href="/static/how-to-train-yolov2-to-detect-custom-objects/">
        <section class="post">
            <h2>How to train YOLOv2 to detect custom objects</h2>
            <p>In this article, we will be going over all the steps required to install and train Joseph Redmon's YOLOv2…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="http://my-ghost-blog.com">Timebutt.io</a> © 2017</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    
    <script type="text/javascript" src="/static/assets/js/jquery.fitvids.js?v=a1ecb55c4f"></script>
    <script type="text/javascript" src="/static/assets/js/index.js?v=a1ecb55c4f"></script>

</body>
</html>